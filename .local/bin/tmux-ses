#!/bin/sh

directory="~"
if [ $# -eq 1 ]; then
  ses_name=$1
else 
  directory=$(find ~/.local/src -maxdepth 1 -type d | fzf)
  ses_name=$(basename "$directory")
fi

[ -z "$ses_name" ] && exit 1

if [ -z "$(tmux list-sessions | grep -q $ses_name)" ]; then
  tmux new -s $ses_name -c $directory
else
  tmux attach -t $ses_name
fi
